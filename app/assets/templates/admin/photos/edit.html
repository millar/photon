<loading-icon></loading-icon>

<div class="container reveal-animation separated" ng-if="loaded">
  <div class="row">
    <div class="col-md-3 img-preview">
      <photo-square class="text-right" photo="photo" href="'/admin/photos/' + photo.id" size="75"></photo-square>
    </div>
    <div class="col-md-6">
      <h2 style="margin-top: 0;" ng-class="{'text-muted': !photo.title}">{{photo.title || photo.original_file_name}}</h2>
      <ul class="list-inline">
        <li>Uploaded <span isodate="photo.created_at"></span></li>
        <li>
          by
          <span ng-if="photo.user.id == current_user.id">you</span>
          <span ng-if="photo.user.id != current_user.id">{{photo.user.username}}</span>
        </li>
      </ul>
    </div>
  </div>


  <form class="form-horizontal" ng-submit="submit()">
    <div class="form-group">
      <label class="control-label col-sm-3" for="title">Title</label>
      <div class="col-sm-6">
        <input type="text" ng-model="photo.title" class="form-control">
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-sm-3" for="title">Description</label>
      <div class="col-sm-6">
        <textarea ng-model="photo.description" class="form-control"></textarea>
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-6 col-sm-offset-3">
        <button type="submit" class="btn btn-primary">Update Photo</button>
      </div>
    </div>
  </form>

</div>
